<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Undangan Pernikahan</title>
  <link rel="stylesheet" href="/styles.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Alex+Brush&family=Poppins:wght@400;600&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Tangerine:wght@700&display=swap">
</head>
<body>

<!-- Musik Otomatis -->
<audio id="bgm" autoplay loop>
  <source src="/musik.mp3" type="audio/mpeg">
  Browser Anda tidak mendukung elemen audio.
</audio>

<div class="header">
  <img src="/Frame 8(1).png" alt="">
</div>

<div class="teks1">
  <p>Assalamu'alaikum warohmatullahi wabarokatuh</p>
  <p>Dengan ini kami mengundang Bapak/Ibu/Saudara/i untuk hadir pada pernikahan putra dan putri kami</p>
</div>

<div class="container">
  <div class="cewe">
    <img src="/cewe 1.png" alt="">
    <h1>Astrid Fitriani</h1>
    <p>Putri Kedua Dari Bpk. Maryana (Alm) / Bpk. Ijang Rustaji & Ibu Euis Holisoh</p>
    <p>Kp. Kalapa Nunggal RT 002 RW 012<br>Ds. Padaulun, Kec. Majalaya</p>
  </div>
  <div class="cowo">
    <img src="/cowo.png" alt="">
    <h1><span>G</span>ugun <span>G</span>unawan</h1>
    <p>Putra Pertama Dari Bpk. H. Wawan Setiawan & Ibu Kokom Komalasari</p>
    <p>Kp. Cibatur RT 058 RW 018<br>Ds. Mandalahaji, Kec. Pacet</p>
  </div>
</div>

<div class="jadwal">
  <p>Dengan segala kerendahan hati dan dengan ungkapan syukur atas karunia Allah SWT, kami mengundang Bapak/Ibu/Saudara/i untuk menghadiri Resepsi Pernikahan putra-putri kami yang akan diselenggarakan pada :</p>
  <img src="/image 20.png" alt="">
  <div class="rundown">
    <h2>Rangkaian Acara</h2>
    <img src="/Frame 9.png" alt="">
    <h2>Lokasi</h2>
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d63313.93762555824!2d107.7046649!3d-7.0399378!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e68c1ee2b56a333%3A0x936f4914854f4b00!2sLapang%20voli%20amga!5e0!3m2!1sid!2sid!4v1686890427350!5m2!1sid!2sid" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    <div class="button-container">
      <a href="https://maps.app.goo.gl/oWcsHbeixTJtrWyT6?g_st=aw" target="_blank">Lihat Lokasi</a>
    </div>
    <p>Merupakan suatu kehormatan dan kebahagiaan bagi kami, apabila Bapak/Ibu/Saudara/i berkenan hadir untuk memberikan doa restu kepada kedua putra-putri kami</p>
    <p>Wassalamu’alaikum Warahmatullahi Wabarakatuh</p>
  </div>
</div>

<div class="gift">
  <h2>Gift Online</h2>
  <div class="gift-box">
    <img src="/bri.png" alt="">
    <p>4290 0104 7514 538</p>
    <p>a/n Astrid Fitriani</p>
  </div>
  <div class="gift-box">
    <img src="/dana.png" alt="">
    <p>0838 2306 2889</p>
    <p>a/n Gugun Gunawan</p>
  </div>

  <div class="ayat">
        <img src="/arrum.png" class="ayat-img" alt="">

  <blockquote>
    <p>"Dan di antara tanda-tanda (kebesaran)-Nya ialah Dia menciptakan pasangan-pasangan untukmu dari jenismu sendiri, agar kamu cenderung dan merasa tenteram kepadanya, dan Dia menjadikan di antaramu rasa kasih dan sayang. Sungguh, pada yang demikian itu benar-benar terdapat tanda-tanda (kebesaran Allah) bagi kaum yang berpikir."</p>
    <footer>— QS. Ar-Rum: 21</footer>
  </blockquote>
</div>
</div>





<div class="foto">
  <h2>Galeri</h2>
  <img src="/1.png" alt="Foto 1">
  <img src="/2.png" alt="Foto 2">
  <img src="/3.png" alt="Foto 3">
  <img src="/4.png" alt="Foto 4">
  <img src="/6.png" alt="Foto 6">
</div>

<!-- WISH SECTION -->
<div class="wish-section">
  <h2>Kirim Ucapan</h2>
  <form id="wishForm">
    <input type="text" id="name" placeholder="Nama Anda" required>
    <textarea id="wish" placeholder="Ucapan..." required></textarea>
    <button type="submit">Kirim</button>
  </form>
  <div id="wishList"></div>
</div>


<!-- Autoplay Audio Fallback -->
<script>
  window.addEventListener('DOMContentLoaded', () => {
    const audio = document.getElementById('bgm');
    const playPromise = audio.play();
    if (playPromise !== undefined) {
      playPromise.catch(() => {
        const startAudio = () => {
          audio.play();
          document.removeEventListener('click', startAudio);
        };
        document.addEventListener('click', startAudio);
      });
    }
  });
</script>

<!-- Firebase SDK dan Script -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-analytics.js";
  import { getDatabase, ref, push, onValue } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCMb11chWRkEMiS6LR7hv6sWxMX7dTOhgI",
    authDomain: "wedding-wish-5f63d.firebaseapp.com",
    databaseURL: "https://wedding-wish-5f63d-default-rtdb.firebaseio.com",
    projectId: "wedding-wish-5f63d",
    storageBucket: "wedding-wish-5f63d.appspot.com",
    messagingSenderId: "361395541104",
    appId: "1:361395541104:web:68ec9308df726b347f50b5",
    measurementId: "G-8E91YMMG5B"
  };

  const app = initializeApp(firebaseConfig);
  getAnalytics(app);
  const db = getDatabase(app);
  const wishRef = ref(db, "wishes");

  // Submit wish
  document.getElementById("wishForm").addEventListener("submit", function (e) {
    e.preventDefault();
    const name = document.getElementById("name").value.trim();
    const wish = document.getElementById("wish").value.trim();

    if (name && wish) {
      push(wishRef, {
        name,
        wish,
        timestamp: Date.now()
      }).then(() => {
        document.getElementById("wishForm").reset();
      });
    }
  });

  // Load wish list
  onValue(wishRef, (snapshot) => {
    const wishList = document.getElementById("wishList");
    wishList.innerHTML = "";
    const wishes = snapshot.val();
    if (wishes) {
      const entries = Object.values(wishes).sort((a, b) => b.timestamp - a.timestamp);
      entries.forEach(entry => {
        const timeAgo = getTimeAgo(entry.timestamp);
        const card = document.createElement("div");
        card.className = "wish-card";
        card.innerHTML = `
          <div class="wish-name">${entry.name}</div>
          <div class="wish-message">${entry.wish}</div>
          <div class="wish-time">${timeAgo}</div>
        `;
        wishList.appendChild(card);
      });

    }
  });

  function getTimeAgo(timestamp) {
    const seconds = Math.floor((Date.now() - timestamp) / 1000);
    if (seconds < 60) return `${seconds} detik lalu`;
    const minutes = Math.floor(seconds / 60);
    if (minutes < 60) return `${minutes} menit lalu`;
    const hours = Math.floor(minutes / 60);
    if (hours < 24) return `${hours} jam lalu`;
    const days = Math.floor(hours / 24);
    return `${days} hari lalu`;
  }
</script>

</body>
</html>
